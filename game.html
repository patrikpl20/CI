<!DOCTYPE html>
<html lang="en">
    <head>
        <link rel="stylesheet" type="text/css" href="style.css">
        <link href="https://fonts.googleapis.com/css?family=Lato:100,300,300i,400&display=swap" rel="stylesheet" type='text/css'>
        <link href="https://fonts.googleapis.com/css?family=MedievalSharp&display=swap" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="grid.css">
        <title>Quiz</title>
        
        
    </head>
    
    <body class="avbody">
        <header>
            <nav>
                <div class="row">
                    <div class="col span-1-of-3"><img src="pics/logocastle.png" alt="logo" class="logo"></div>
                    <div class="col span-1-of-3"><h1>Castle Rallye</h1></div>
                    <div class="col span-1-of-3"><h2>Logout</h2></div>
                </div>
            </nav>
        </header>
        <div id="particles-js"></div>
        <div class="row gamecon">
            <img class="board b1" src="pics/Bild_1.png">   
            <img class="board b2" src="pics/Bild_1.png">  
            <div class="content">
                <div class="question"><h3 id="q"></h3></div>
                <div class="choices">
                    <div class="choice" id="A" onclick="checkAnswer('A')"><p id="A1"></p></div>
                    <div class="choice" id="B" onclick="checkAnswer('B')"><p id="A2"></p></div>
                    <div class="choice" id="C" onclick="checkAnswer('C')"><p id="A3"></p></div>
                    <div class="choice" id="D" onclick="checkAnswer('D')"><p id="A4"></p></div>
                </div>
            </div>
        </div>
        
        <script type="text/javascript" src="js/particles.js"></script>
        <script type="text/javascript" src="js/app.js"></script>
        
       
    </body>
    
    <script>
    
        // Open The XML
        
        var xhttp;
        xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function() {
            if (this.readyState == 4) {
                myFunction(this);
            }
        };
        
        xhttp.open("GET", "quiz.xml", false);
        xhttp.send();
        
        // get random number for questions
        
        function getRndInteger(min, max) {
        return Math.floor(Math.random() * (max - min + 1) ) + min;
        }
        
        function myFunction(xml) {
            
            var xmlDoc;
            xmlDoc = xml.responseXML;
                                    
            // get Question
            
            var x = xmlDoc.getElementsByTagName("question");
            
            var qnr, quest, isused;
            
            var qnr = getRndInteger(0, x.length);
            
            // save already questioned
            
            var z, usedquestionlist;
            usedquestionlist="";
            
            do {
                for (z = 0; z < usedquestionlist.length; z++) {
                if (qnr == usedquestionlist[z]) {
                    isused = true; 
                    qnr = getRndInteger(0, x.length);
                    break;
                }
                else {isused = false;
                     usedquestionlist.push(qnr);
                     }
                }
                
            }
            while (isused == true);
            
            alert(qnr);
            
            quest=""; 
            
            quest = xmlDoc.getElementsByTagName("question")[qnr].childNodes[0].nodeValue;
            
            document.getElementById("q").innerHTML = quest;
            
            // calculate nr of answers out of questionnr
            
            // qnr = jetzige Frage
            
            // qnr * 4 = Startwert
            // Startwert + for Schleife (i = 0; i < 3; i++)
            
            var answer1 = xmlDoc.getElementsByTagName("answer")[qnr * 4 + 0].childNodes[0].nodeValue;
            document.getElementById("A1").innerHTML = answer1;
            
            var answer2 = xmlDoc.getElementsByTagName("answer")[qnr * 4 + 1].childNodes[0].nodeValue;
            document.getElementById("A2").innerHTML = answer2;
            
            var answer3 = xmlDoc.getElementsByTagName("answer")[qnr * 4 + 2].childNodes[0].nodeValue;
            document.getElementById("A3").innerHTML = answer3;
            
            var answer4 = xmlDoc.getElementsByTagName("answer")[qnr * 4 + 3].childNodes[0].nodeValue;
            document.getElementById("A4").innerHTML = answer4;
            
        }
    
    </script>
    
</html>

<!--

--> 

